# SilMoポートフォリオサイト アーキテクチャ

このドキュメントでは、SilMoポートフォリオサイトの全体アーキテクチャとディレクトリ構成について定義しています。

## 1. アプリケーションアーキテクチャ

### 1.1 全体アーキテクチャ

```text
+--------------------+     +--------------------+     +--------------------+
|                    |     |                    |     |                    |
|   クライアント      |<--->|   Next.js アプリ    |<--->|   Newt (CMS)       |
|   (ブラウザ)        |     |   (Vercel)        |     |                    |
|                    |     |                    |     |                    |
+--------------------+     +--------------------+     +--------------------+
                                    ^
                                    |
                                    v
                           +--------------------+
                           |                    |
                           |   Google Analytics |
                           |                    |
                           +--------------------+
```

### 1.2 アーキテクチャの特徴

- **JAMstackアーキテクチャ**: 静的生成（SSG）を基本としつつ、必要に応じてISRを活用
- **ヘッドレスCMS連携**: API経由でコンテンツを取得し、ビルド時に静的ページを生成
- **サーバーサイドレンダリング（SSR）**: 一部ページでは必要に応じてSSRを活用
- **React Server Components (RSC)**: Next.js App Routerの特性を活かした効率的なレンダリング
- **エッジ最適化**: Vercelのエッジネットワークを活用したコンテンツ配信

## 2. ディレクトリ構成

```text
src/
├── app/                     # App Router ディレクトリ
│   ├── (routes)/            # グループ化されたルート
│   │   ├── about/           # /about ページ
│   │   ├── works/           # /works ページ
│   │   │   ├── page/[page]/ # ページネーション
│   │   │   └── [slug]/      # 個別詳細ページ
│   │   ├── sandbox/         # /sandbox ページ
│   │   │   ├── page/[page]/ # ページネーション
│   │   │   └── [slug]/      # 個別詳細ページ
│   │   └── contact/         # /contact ページ
│   ├── api/                 # API ルート
│   │   ├── og/              # 動的OGP生成API
│   │   └── revalidate/      # ISR再検証API
│   ├── globals.css          # グローバルスタイル
│   ├── layout.tsx           # ルートレイアウト
│   └── page.tsx             # ホームページ
├── components/              # コンポーネント
│   ├── ui/                  # shadcn/uiコンポーネント
│   ├── layout/              # レイアウト関連コンポーネント
│   │   ├── header.tsx
│   │   ├── footer.tsx
│   │   └── sidebar.tsx
│   ├── common/              # 共通コンポーネント
│   │   ├── card.tsx
│   │   ├── pagination.tsx
│   │   └── ...
│   ├── works/               # 実績関連コンポーネント
│   ├── sandbox/             # 成果物関連コンポーネント
│   └── about/               # プロフィール関連コンポーネント
├── hooks/                   # カスタムフック
│   ├── use-theme.ts
│   ├── use-scroll.ts
│   └── ...
├── lib/                     # ユーティリティ関数
│   ├── newt.ts              # Newt CMS連携
│   ├── analytics.ts         # GA連携
│   └── utils.ts             # 汎用ユーティリティ
├── styles/                  # スタイル関連
│   └── theme.ts             # テーマ設定
├── types/                   # 型定義
│   ├── cms.ts               # CMS関連の型
│   ├── common.ts            # 共通の型
│   └── ...
└── public/                  # 静的ファイル
    ├── fonts/               # フォントファイル
    ├── images/              # 画像ファイル
    └── ...
```

## 関連ドキュメント

- [システム設計インデックス](./index.md)
- [コンポーネント設計](./コンポーネント設計.md)
- [データフロー](./データフロー.md)
- [技術スタック](../技術スタック/index.md) 